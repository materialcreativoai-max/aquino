<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aquí Nomás – inicio</title>

  <!-- Favicon inline (evita /favicon.ico 404) -->
  <link rel="icon"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' fill='%23000'/%3E%3Ctext x='50%25' y='58%25' font-size='36' text-anchor='middle' fill='%23fff'%3EA%3C/text%3E%3C/svg%3E'"/>

  <style>
    html,body{height:100%;margin:0;font-family:system-ui,Arial}
    .wrap{height:100%;display:flex;align-items:center;justify-content:center}
    .card{padding:22px 24px;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.08)}
    .title{font-weight:700;margin:0 0 8px}
    .small{color:#6b7280;margin:6px 0 0}
  </style>

  <script>
    (async () => {
      try { localStorage.clear(); } catch {}
      try { sessionStorage.clear(); } catch {}

      if ('caches' in window) {
        try { const ks = await caches.keys(); await Promise.all(ks.map(k => caches.delete(k))); } catch {}
      }
      if ('serviceWorker' in navigator) {
        try { const regs = await navigator.serviceWorker.getRegistrations(); await Promise.all(regs.map(r => r.unregister())); } catch {}
      }
      if ('indexedDB' in window) {
        try {
          if (indexedDB.databases) {
            const dbs = await indexedDB.databases();
            await Promise.all((dbs||[]).map(d => d && d.name ? indexedDB.deleteDatabase(d.name) : null));
          } else {
            ['keyval-store','workbox-precache','workbox-runtime','idb-keyval','cache-db']
              .forEach(n => { try { indexedDB.deleteDatabase(n); } catch {} });
          }
        } catch {}
      }
      await new Promise(r => setTimeout(r, 250));
      location.replace('./app.html'); // tu app real
    })();
  </script>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <p class="title">Preparando la app…</p>
      <p class="small">Limpiando datos temporales y redirigiendo.</p>
    </div>
  </div>
</body>
</html>
